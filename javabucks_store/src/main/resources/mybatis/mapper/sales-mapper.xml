<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatis.mapper.salesMapper">

		<select id="baljooList" parameterType="String" resultType="BaljooDTO">
			SELECT * 
        	FROM javabucks_baljoo 
        	WHERE TO_CHAR(baljooDate, 'YYYY-MM') = TO_CHAR(CURRENT_DATE, 'YYYY-MM')
          	AND bucksId = #{bucksId}
          	AND baljooStatus = '접수완료'
		</select>
		
		 <!-- 재고 정보 조회 -->
	    <select id="getStockInfo" parameterType="string" resultType="map">
	        SELECT 
	            stockListName, 
	            stockListPrice 
	        FROM 
	            javabucks_stockList 
	        WHERE 
	            stockListCode = #{stockCode}
	    </select>
	    
	    <select id="searchBaljooList" parameterType="map" resultType="BaljooDTO">
	        SELECT *
    FROM javabucks_baljoo
    WHERE bucksId = #{userId}
      AND EXTRACT(YEAR FROM baljooDate) = #{year}
      AND EXTRACT(MONTH FROM baljooDate) = #{month}
	    </select>
	    
	    
		
</mapper>